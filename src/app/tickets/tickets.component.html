<div id="ticket_history" class="container">
  <div id="tickets_head">
    TICKETS
  </div>
  <table border="1" class="center">
    <tr>
      <th>
        S.No.
      </th>
      <th>
        Ticket id.
      </th>
      <th>
          State
      </th>
      <th>
        Ticket type
      </th>
      <th>
        Opened on
      </th>
      <th>
        Expected closing
      </th>
      <th>
        Closed on
      </th>
      <th>
        Ticket details
      </th>
      <th>
        Resolution response
      </th>
      <th>
        Transaction id
      </th>
      <th>
        Ticket reaction details
      </th>
      <th>
        Action
      </th>
    </tr>
    <tr *ngFor="let ticket of tickets_list; let i = index">
      <td>
        {{ i + 1 }}
      </td>
      <td>
        {{ ticket.id }}
      </td>
      <td>
          {{ ticket.ticket_status }}
      </td>
      <td>
        {{ ticket.ticket_type }}
      </td>
      <td>
        {{ ticket.ticket_issue_date }}
      </td>
      <td>
        {{ ticket.ticket_resolution_proposed_date }}
      </td>
      <td>
        {{ ticket.ticket_resolved_date }}
      </td>
      <td>
        <b *ngIf="ticket.chat_id==''">
        {{ticket.ticket_details}}
        </b>
        <button *ngIf="ticket.chat_id!=''" class="btn-primary">
          Open chat
        </button>
      </td>
      <td>
        {{ ticket.ticket_resolution_response }}
      </td>
      <td>
        {{ticket.transactions_linked}}
      </td>
      <td>
        {{ticket.ticket_re_action_reason}}
      </td>
      <td>
        <button class="btn-primary" *ngIf="ticket.ticket_status=='Closed'" (click)='reopen_ticket(ticket.id,ticket.ticket_status,ticket.ticket_type,ticket.ticket_issue_date,ticket.ticket_details,ticket.ticket_resolution_proposed_date,ticket.ticket_resolved_date,ticket.ticket_resolution_response,ticket.transaction_id,ticket.chat_id)'>
          Reopen
        </button>
      </td>
    </tr>
  </table>
</div>
